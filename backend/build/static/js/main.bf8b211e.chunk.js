(this["webpackJsonpside-project"]=this["webpackJsonpside-project"]||[]).push([[0],{123:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),o=n.n(c),i=n(60),s=n(12),u=n.n(s),l=n(17),d=n(11),p=n(154),j=n(156),b=n(173),m=n(159),h=n(125),f=n(171),g=n(160),O=n(170),x=n(162),v=n(163),w=n(158),k=n(2),y=Object(p.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100%"},paper:{width:500,maxHeight:700,padding:32,border:"solid",borderColor:"#7D4F50",borderRadius:10,color:"#7D4F50",backgroundColor:"#F9EAE1",overflow:"auto"},fab:{width:"75px",height:"75px",position:"fixed",bottom:e.spacing(5),right:e.spacing(5)},buttonSubmit:{marginTop:10,color:"#7D4F50",borderColor:"#7D4F50"},buttonAdd:{fontSize:24,margin:5,color:"#7D4F50",borderColor:"#7D4F50"}}})),C=a.a.forwardRef((function(e,t){var n=e.createProject,a=e.projectId,c=y(),o=Object(r.useState)(""),i=Object(d.a)(o,2),s=i[0],u=i[1],l=Object(r.useState)(""),p=Object(d.a)(l,2),S=p[0],F=p[1],N=Object(r.useState)([""]),A=Object(d.a)(N,2),D=A[0],E=A[1],I=Object(r.useState)(!1),P=Object(d.a)(I,2),R=P[0],L=P[1];C.displayName="CreateProjectForm";var T=function(){return L(!R)};return Object(r.useImperativeHandle)(t,(function(){return{toggleVisibility:T,setTitle:u,setDescription:F,setTags:E}})),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:Object(k.jsx)(j.a,{style:{display:a?"none":""},color:"primary",onClick:T,className:c.fab,children:Object(k.jsx)(w.a,{})})}),Object(k.jsx)(b.a,{open:R,onClose:T,className:c.modal,BackdropComponent:m.a,BackdropProps:{timeout:500},children:Object(k.jsx)(h.a,{in:R,children:Object(k.jsxs)(f.a,{component:"span",display:"block",className:c.paper,children:[Object(k.jsx)(g.a,{variant:"h3",m:8,children:"Add a Project"}),Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),T(),a?n(a,{title:s,description:S,tags:D.filter((function(e){return e}))}):n({title:s,description:S,tags:D.filter((function(e){return e}))}),u(""),F(""),E([""])},children:[Object(k.jsx)(f.a,{component:"span",display:"block",mt:6,mb:3,children:Object(k.jsx)(O.a,{required:!0,type:"text",variant:"outlined",value:s,label:"Title",className:c.input,onChange:function(e){var t=e.target;return u(t.value)}})}),Object(k.jsx)(f.a,{component:"span",display:"block",mb:3,children:Object(k.jsx)(O.a,{type:"text",multiline:!0,rows:6,variant:"outlined",value:S,label:"Description",className:c.input,onChange:function(e){var t=e.target;return F(t.value)}})}),Object(k.jsx)(f.a,{component:"span",display:"block",mb:3,children:D.map((function(e,t){return Object(k.jsxs)(f.a,{mb:1,children:[Object(k.jsx)(O.a,{type:"text",variant:"outlined",label:"Tag ".concat(t+1),value:e,inputProps:{maxLength:20},onChange:function(e){var n=e.target;return E(D.map((function(e,r){return r===t?n.value:e})))}}),1!==D.length&&Object(k.jsx)(x.a,{onClick:function(){return E(D.filter((function(e,n){return n!==t})))},className:c.buttonAdd,children:"-"}),D.length-1===t&&D.length<=4&&e&&Object(k.jsx)(x.a,{onClick:function(){return E(D.concat(""))},className:c.buttonAdd,children:"+"})]},t)}))}),Object(k.jsx)(v.a,{type:"submit",variant:"outlined",className:c.buttonSubmit,children:a?"Update":"Create"})]})]})})})]})})),S=C,F=n(174),N=n(172),A=a.a.forwardRef((function(e,t){var n=e.message,a=Object(r.useState)(!1),c=Object(d.a)(a,2),o=c[0],i=c[1];return A.displayName="Notification",Object(r.useImperativeHandle)(t,(function(){return{setOpen:i}})),Object(k.jsx)(k.Fragment,{children:n.severity?Object(k.jsx)(F.a,{open:o,autoHideDuration:6e3,onClose:function(){return i(!1)},children:Object(k.jsx)(N.a,{elevation:6,variant:"filled",onClose:function(){return i(!1)},severity:n.severity,children:n.message})}):Object(k.jsx)(F.a,{open:o,onClose:function(){return i(!1)},message:n.message})})})),D=A,E=n(10),I=n(164),P=n(165),R=n(176),L=n(15),T=Object(p.a)((function(e){return{button:{margin:6,color:"#F9EAE1",borderColor:"#F9EAE1"},input:Object(E.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(L.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(L.c)(e.palette.common.white,.25)},marginLeft:0,maxWidth:"14ch",width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,1)}}})),U=function(e){var t=e.handleLogin,n=T(),a=Object(r.useState)(""),c=Object(d.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(""),u=Object(d.a)(s,2),l=u[0],p=u[1];return Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o,l),i(""),p("")},children:[Object(k.jsx)(f.a,{component:"div",display:"inline-block",className:n.input,children:Object(k.jsx)(R.a,{required:!0,placeholder:"Username",classes:{root:n.inputRoot,input:n.inputInput},value:o,name:"Username",onChange:function(e){var t=e.target;return i(t.value)}})}),Object(k.jsx)(f.a,{component:"div",display:"inline-block",className:n.input,children:Object(k.jsx)(R.a,{required:!0,type:"password",placeholder:"Password",classes:{root:n.inputRoot,input:n.inputInput},value:l,name:"Password",onChange:function(e){var t=e.target;return p(t.value)}})}),Object(k.jsx)(f.a,{component:"div",display:"inline-block",children:Object(k.jsx)(v.a,{type:"submit",variant:"outlined",size:"small",className:n.button,children:"Login"})})]})},z=Object(p.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100%"},paper:{width:500,maxHeight:700,padding:32,border:"solid",borderColor:"#7D4F50",borderRadius:10,color:"#7D4F50",backgroundColor:"#F9EAE1",overflow:"auto"},fab:{width:"75px",height:"75px",position:"fixed",bottom:e.spacing(5),right:e.spacing(5)},buttonSubmit:{marginTop:10,color:"#7D4F50",borderColor:"#7D4F50"},buttonAdd:{fontSize:24,margin:5,color:"#7D4F50",borderColor:"#7D4F50"}}})),B=function(e){var t=e.createUser,n=z(),a=Object(r.useState)(""),c=Object(d.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(""),u=Object(d.a)(s,2),l=u[0],p=u[1],j=Object(r.useState)(""),x=Object(d.a)(j,2),w=x[0],y=x[1],C=Object(r.useState)(!1),S=Object(d.a)(C,2),F=S[0],N=S[1],A=function(){return N(!F)};return Object(k.jsxs)("div",{children:[Object(k.jsx)(v.a,{variant:"contained",style:{color:"#7D4F50",borderColor:"#7D4F50",marginLeft:6},onClick:A,size:"small",children:"Sign Up"}),Object(k.jsx)(b.a,{open:F,onClose:A,className:n.modal,BackdropComponent:m.a,BackdropProps:{timeout:500},children:Object(k.jsx)(h.a,{in:F,children:Object(k.jsxs)(f.a,{component:"span",display:"block",className:n.paper,children:[Object(k.jsx)(g.a,{variant:"h3",m:8,children:"Create an Account"}),Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),A(),t({name:o,username:l,password:w}),i(""),p(""),y("")},children:[Object(k.jsx)(f.a,{component:"span",display:"block",mt:6,mb:3,children:Object(k.jsx)(O.a,{type:"text",variant:"outlined",value:o,label:"Name",className:n.input,onChange:function(e){var t=e.target;return i(t.value)}})}),Object(k.jsx)(f.a,{component:"span",display:"block",mb:3,children:Object(k.jsx)(O.a,{required:!0,type:"text",variant:"outlined",value:l,label:"Username",inputProps:{minLength:3},className:n.input,onChange:function(e){var t=e.target;return p(t.value)}})}),Object(k.jsx)(f.a,{component:"span",display:"block",mb:3,children:Object(k.jsx)(O.a,{required:!0,type:"password",variant:"outlined",value:w,label:"Password",inputProps:{minLength:3},className:n.input,onChange:function(e){var t=e.target;return y(t.value)}})}),Object(k.jsx)(v.a,{type:"submit",variant:"outlined",className:n.buttonSubmit,children:"Create"})]})]})})})]})},_=n(78),H=n.n(_),q=Object(p.a)((function(e){var t;return{root:{flexGrow:1},title:(t={flexGrow:1,display:"none",textAlign:"center"},Object(E.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(E.a)(t,"letterSpacing",6),Object(E.a)(t,"fontSize",24),t),search:Object(E.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(L.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(L.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(E.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),alignRight:{marginLeft:"auto"},welcomeText:{margin:25,color:"#F9EAE1"}}})),J=function(e){var t=e.filter,n=e.setFilter,r=e.handleLogin,a=e.handleSignUp,c=e.logout,o=e.user,i=q();return Object(k.jsx)("div",{className:i.root,children:Object(k.jsx)(I.a,{children:Object(k.jsxs)(P.a,{children:[Object(k.jsxs)("div",{className:i.search,children:[Object(k.jsx)("div",{className:i.searchIcon,children:Object(k.jsx)(H.a,{})}),Object(k.jsx)(R.a,{placeholder:"Search\u2026",classes:{root:i.inputRoot,input:i.inputInput},inputProps:{"aria-label":"search"},value:t,name:"Filter",onChange:function(e){var t=e.target;return n(t.value)}})]}),Object(k.jsx)(g.a,{className:i.title,variant:"h6",noWrap:!0,children:"SIDE PROJECT IDEAS"}),null===o?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(U,{handleLogin:r,className:i.alignRight}),"or",Object(k.jsx)(B,{createUser:a})]}):Object(k.jsxs)("div",{children:[Object(k.jsxs)(f.a,{component:"div",display:"inline-block",className:i.welcomeText,children:["Welcome, ",o.name||o.username,"!"]}),Object(k.jsx)(v.a,{onClick:c,variant:"outlined",style:{color:"#F9EAE1",borderColor:"#F9EAE1"},children:"Logout"})]})]})})})},W=n(166),G=n(167),V=n(168),K=Object(p.a)((function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{maxWidth:750,maxHeight:700,margin:50,padding:32,border:"solid",borderColor:"#7D4F50",borderRadius:10,color:"#7D4F50",backgroundColor:"#F9EAE1",overflow:"auto"},tag:{margin:6,border:"solid",borderWidth:1}}})),M=function(e){var t=e.open,n=e.setOpen,r=e.project,a=K();return Object(k.jsx)("div",{children:Object(k.jsx)(b.a,{className:a.modal,open:t,onClose:function(){return n(!1)},BackdropComponent:m.a,BackdropProps:{timeout:500},children:Object(k.jsx)(h.a,{in:t,children:Object(k.jsxs)("div",{className:a.paper,children:[Object(k.jsx)(g.a,{paragraph:!0,variant:"h3",children:r.title}),Object(k.jsx)(g.a,{paragraph:!0,variant:"body2",color:"textSecondary",children:"By ".concat(r.user.name||r.user.username)}),Object(k.jsx)(g.a,{paragraph:!0,style:{whiteSpace:"pre-line"},color:"textSecondary",children:r.description}),Object(k.jsx)(f.a,{children:r.tags.map((function(e,t){return Object(k.jsx)(v.a,{variant:"outlined",className:a.tag,children:e},t)}))})]})})})})},Q=Object(p.a)((function(){return{root:{padding:16,margin:8,border:"solid",borderColor:"#7D4F50",borderRadius:10,color:"#7D4F50",backgroundColor:"#F9EAE1"},rightAligned:{float:"right"},tag:{margin:5,fontSize:12,maxHeight:20}}})),X=function(e){var t=e.project,n=e.user,a=e.updateProject,c=e.removeProject,o=Q(),i=Object(r.useState)(!1),s=Object(d.a)(i,2),u=s[0],l=s[1],p=Object(r.useRef)(),j=n&&t.likes.includes(n.id);return Object(k.jsxs)(f.a,{className:o.root,children:[Object(k.jsx)(g.a,{variant:"h5",style:{margin:8},onClick:function(){return l(!0)},children:t.title}),Object(k.jsxs)(f.a,{children:[t.tags.map((function(e,t){return Object(k.jsx)(v.a,{variant:"outlined",className:o.tag,children:e},t)})),Object(k.jsxs)("span",{className:o.rightAligned,children:[Object(k.jsx)(x.a,{onClick:function(){n&&(a(t._id,{likes:j?t.likes.filter((function(e){return e!==n.id})):t.likes.concat(n.id)}),j=!j)},style:{color:j?"red":""},children:Object(k.jsx)(W.a,{})}),t.likes.length,n&&n.id===t.user._id&&Object(k.jsxs)(f.a,{display:"inline",m:2,children:[Object(k.jsx)(x.a,{onClick:function(){p.current.setTitle(t.title),p.current.setDescription(t.description),p.current.setTags(t.tags),p.current.toggleVisibility()},children:Object(k.jsx)(G.a,{})}),Object(k.jsx)(x.a,{onClick:function(){return c(t._id)},children:Object(k.jsx)(V.a,{})})]})]})]}),Object(k.jsx)(M,{open:u,setOpen:l,project:t}),Object(k.jsx)(S,{createProject:a,projectId:t._id,ref:p})]})},Y=function(e){var t=e.projects,n=e.user,r=e.updateProject,a=e.removeProject;return Object(k.jsx)("div",{style:{marginBottom:200,overflow:"auto"},children:t.map((function(e){return Object(k.jsx)(X,{project:e,user:n,updateProject:r,removeProject:a},e._id)}))})},Z=n(23),$=n.n(Z),ee="/api/projects",te=null,ne={getAll:function(){return $.a.get(ee).then((function(e){return e.data}))},create:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:te}},e.next=3,$.a.post(ee,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:te}},e.next=3,$.a.put("".concat(ee,"/").concat(t),n,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:te}},e.next=3,$.a.delete("".concat(ee,"/").concat(t),n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){te="bearer ".concat(e)}},re={login:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ae={create:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ce=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),o=Object(d.a)(c,2),s=o[0],p=o[1],j=Object(r.useState)({}),b=Object(d.a)(j,2),m=b[0],h=b[1],f=Object(r.useState)(""),g=Object(d.a)(f,2),O=g[0],x=g[1],v=Object(r.useRef)();Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w("Getting projects..."),e.next=3,ne.getAll();case 3:t=e.sent,a(t.sort((function(e,t){return t.likes.length-e.likes.length}))),v.current.setOpen(!1);case 6:case"end":return e.stop()}}),e)}))),[]),Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedInUser");if(e){var t=JSON.parse(e);ne.setToken(t.token),p(t)}}),[]);var w=function(e,t){h({message:e,severity:t}),v.current.setOpen(!0)},y=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w("Logging in..."),e.next=4,re.login({username:t,password:n});case 4:r=e.sent,window.localStorage.setItem("loggedInUser",JSON.stringify(r)),ne.setToken(r.token),p(r),w("Logged in successfully","success"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),w("Incorrect credentials","error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w("Adding project..."),e.next=4,ne.create(t);case 4:r=e.sent,a(n.concat(r)),w("New project added","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),w("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(u.a.mark((function e(t,r){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w("Updating project..."),e.next=4,ne.update(t,r);case 4:c=e.sent,a(n.map((function(e){return e._id===t?Object(i.a)(Object(i.a)({},c),{},{user:e.user}):e})).sort((function(e,t){return t.likes.length-e.likes.length}))),w("Project updated","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),w("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.find((function(e){return e._id===t})),!window.confirm("Remove project ".concat(r.title,"?"))){e.next=13;break}return e.prev=2,w("Removing project..."),e.next=6,ne.remove(t);case 6:a(n.filter((function(e){return e._id!==t}))),w("Project deleted","success"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),w("Something went wrong","error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w("Creating user..."),e.next=4,ae.create(t);case 4:w("New user created","success"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),w("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=n.filter((function(e){return e.title.toLowerCase().includes(O.toLowerCase())||e.tags.join(" ").toLowerCase().includes(O.toLowerCase())}));return Object(k.jsx)("div",{style:{fontFamily:"Roboto"},children:Object(k.jsxs)("div",{children:[Object(k.jsx)(J,{filter:O,setFilter:x,handleLogin:y,handleSignUp:A,logout:function(){window.localStorage.removeItem("loggedInUser"),p(null)},user:s}),Object(k.jsx)(D,{message:m,ref:v}),Object(k.jsxs)("div",{style:{marginTop:80},children:[Object(k.jsx)(Y,{projects:E,user:s,updateProject:F,removeProject:N}),null!==s&&Object(k.jsx)(S,{createProject:C,projectId:null})]})]})})},oe=n(169),ie=n(55),se=n(79),ue=Object(se.a)({palette:{primary:{main:"#7D4F50"},secondary:{main:"#AA998F"},error:{main:ie.a.A400},background:{default:"#F9EAE1"}}});o.a.render(Object(k.jsx)(oe.a,{theme:ue,children:Object(k.jsx)(ce,{})}),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.bf8b211e.chunk.js.map